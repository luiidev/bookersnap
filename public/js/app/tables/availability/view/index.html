<section id="main">
    <section class="w-100 p-0" id="content">
        <div data-ng-include="'/template/config-menu-tables.html'">
        </div>
        <div class="container">
            <div class="card">
                <div class="pm-body clearfix list-table">
                    <div class="availability-reservation-form">
                        <div class="card-header p-l-0 p-r-0">
                            <h2>
                                Disponiblidad
                                <small>
                                </small>
                            </h2>
                        </div>
                        <div class="card-body">
                            <form  name="availavilitySearchForm" novalidate>
                                <div class="row">
                                    <div class="col-sm-3 p-b-20">
                                            <label>Cantidad de Invitados:</label>                 
                                        <div class="form-group fg-line">
                                            <div class="select">                        
                                                    <select chosen="" class="form-control" data-placeholder="Elije una opción ..." ng-model="vm.configuration.num_guest" ng-options="guest.id as guest.option for guest in vm.guests" required>
                                                      <option value=""></option>
                                                    </select>
                                            </div>  
                                        </div>
                                    </div>
                                    <div class="col-sm-3 p-b-20">
                                            <label>Fecha:</label>                  
                                        <div class="form-group fg-line">
                                            <div class="date-picker" ng-class="{ 'is-opened': vm.opened == true }">                        
                                                    <input type="text" class="form-control input-sm"  placeholder="FECHA" ng-model="vm.date" uib-datepicker-popup="{{vm.format}}" show-weeks="false" min-date="vm.dateMin"  is-open="vm.opened" ng-click="vm.openCalendar($event, 'opened')">
                                            </div>  
                                        </div>
                                    </div>
                                    <div class="col-sm-3 p-b-20">
                                        <div class="form-group fg-line">
                                            <label>Hora:</label>                 
                                            <div class="select">                        
                                                    <select chosen="" class="form-control" data-placeholder="Elije una opción ..." ng-model="vm.configuration.hour" ng-options="hour as hour.option_user for hour in vm.hours" ng-change="vm.changeHour()" required>
                                                      <option value=""></option>
                                                    </select>
                                            </div>  
                                        </div>                                      
                                    </div>
                                    <div class="col-sm-3 p-b-20">
                                        <div class="form-group fg-line">
                                            <label>Zonas</label>                 
                                            <div class="select">                        
                                                    <select chosen="" class="form-control" data-placeholder="Elije una opción ..." ng-model="vm.configuration.zone" ng-options="zone.id as zone.option for zone in vm.zones" required>
                                                      <option value=""></option>
                                                    </select>
                                            </div>  
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 m-b-20 form-group center-content">
                                        <button class="btn btn-primary btn-sm m-t-10 waves-effect" ng-click="vm.getAvailability()" ng-disabled="vm.loadingSearch"><i class="zmdi zmdi-floppy zmdi-hc-fw m-r-5" ></i>Buscar<loading-box wait="vm.loadingSearch" pls="white" bg="blue" size="xs" time="5000"></loading-box>
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <div class="event-info min-h-100-px">
                                <div class="col-sm-12 center-content " >
                                    <loading-box wait="vm.loadingSearch" size="lg" time="5000"></loading-box>
                                    <div class="event-item hour" ng-repeat="availavility in vm.availabilities" >
                                            <a  ng-click="vm.reservationTemporal(availavility)" ng-show="availavility.hour !== null">{{availavility.hour | uppercase}}</a>
                                            <a  ng-show="availavility.hour == null">No Disponible</a>
                                    </div>
                                </div>
                            </div>
                            <div class="event-info">
                                <div class="col-sm-12 center-content min-h-200-px">
                                    <loading-box wait="vm.loadingSearchEvent" size="lg" time="5000"></loading-box>
                                    <div class="radio m-b-20" ng-repeat="event in vm.events">
                                        <label>
                                            <input type="radio" value="event.id" ng-click="vm.searchEventAvailability(event)">
                                            <i class="input-helper"></i>
                                            <p>{{event.name | uppercase}}</p> 
                                            <img src="http://fakeimg.pl/200/">
                                        </label>
                                    </div>
                                    <div class="m-b-20" ng-show="vm.events.length==0">
                                            <p class="lead"> No hay Eventos</p> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>
<footer data-ng-include="'/template/footer.html'" id="footer"></footer>