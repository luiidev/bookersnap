<footer class="footer-custom-res" data-ng-include="'/js/app/tables/floor/view/partials/footer-tables.html'" id="footer">
</footer>
<section class="h-100vh" id="main">
    <section class="w-100 p-0" id="content">
        <div class="container w-100 p-l-0 p-l-0 p-section-right" ui-view="principal"></div>
    </section>
</section>
<section class="section-right-floor" style="z-index: 8">
    <div ui-view="tabReservaciones">
    </div>
</section>
<script id="myModalContentDetail.html" type="text/ng-template">
    <div class="reservation-list-content" ng-hide="vmd.EditContent">
        <div class="modal-header">
            <h4 class="modal-title">{{vmd.itemZona.name_zona}} - {{vmd.itemZona.name}}</h4>
        </div>
        <div class="modal-body">
            <div class="listview lv-bordered lv-lg">
<!--                 <div class="lv-header-alt clearfix">
                    <h2 class="f-14">Proximas reservas y bloqueos</h2>
                </div> -->
                <div class="lv-body">
                    <div class="lv-item media border-left-green m-b-15" ng-if="vmd.reservations.active" ng-click="vmd.reservationEdit(vmd.reservations.active)" style="cursor: pointer;">
                        <div class="media-body">
                            <div class="lv-title"><i class="zmdi zmdi-calendar-note"></i> {{vmd.reservations.active.guest.first_name || "Reservacion sin nombre"}} {{vmd.reservations.active.guest.last_name}}</div>
                            <ul class="lv-attrs" >
                                <li><i class="zmdi zmdi-time"></i> {{vmd.reservations.active.hours_reservation}}</li>
                                <li><i class="zmdi zmdi-account-o"></i> {{vmd.reservations.active.num_guest}} personas</li>
                                <li class="bgm-green c-white">Reservacion sentada</li>
                            </ul>
                        </div>
                    </div>

                    <div class="lv-item media border-left-green m-b-15" ng-repeat="item in vmd.reservations.data" ng-if="item.res_reservation_status_id < 4" ng-click="vmd.reservationEdit(item)" style="cursor: pointer;">
                        <div class="media-body" >
                            <div class="lv-title"><i class="zmdi zmdi-calendar-note"></i> {{item.guest.first_name || "Reservacion sin nombre"}} {{item.guest.last_name}}</div>
                            <ul class="lv-attrs" >
                                <li><i class="zmdi zmdi-time"></i> {{item.hours_reservation}}</li>
                                <li><i class="zmdi zmdi-account-o"></i> {{item.num_guest}} personas</li>
                            </ul>
                        </div>
                    </div>

                    <div class="lv-item media border-left-amber m-b-15" ng-if="vmd.blocks.active" style="cursor: default;">
                        <div class="media-body">
                            <div class="lv-title"><i class="zmdi zmdi-block-alt"></i> Mesa Bloqueada</div>
                            <ul class="lv-attrs" >
                                <li><i class="zmdi zmdi-time"></i> {{vmd.blocks.active.start_time}} - {{vmd.blocks.active.end_time}}</li>
                            </ul>
                        </div>
                    </div>

                    <div ng-repeat="item in vmd.blocks.data" class="lv-item media border-left-amber" style="cursor: default;">
                        <div class="media-body">
                            <div class="lv-title"><i class="zmdi zmdi-block-alt"></i> Mesa Bloqueada</div>
                            <ul class="lv-attrs" >
                                <li><i class="zmdi zmdi-time"></i> {{item.start_time}} - {{item.end_time}}</li>
                            </ul>
                        </div>
                    </div>

                    <div class="not-information" ng-if="!vmd.reservations.data.length && !vmd.blocks.data.length">
                        No se encontro reservas y bloqueos
                    </div>

                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="text-center">
                <button class="btn btn-warning" ng-click="cancel()">Cerrar</button>
            </div>
        </div>
    </div>

    <div class="reservation-short-edit" ng-show="vmd.EditContent">
        <div class="modal-header" style="line-height: 30px;">
            <button class="btn bgm-white pull-left" ng-click="vmd.cancelEdit()"><i class="zmdi zmdi-arrow-back"></i></button>
            <h4 style="display: inline;">Detalle de reservacion</h4>
            <button class="btn btn-primary pull-right" ng-click="vmd.save()" ng-disabled="vmd.waitingResponse">Guardar</button>
        </div>
        <div class="modal-body">

         <div class="card reservation-guest-selected" style="cursor: pointer;" ng-click="vmd.reservationEditAll()">
             <div class="card-header bgm-indigo" ng-click="removeGuest()">
                 <h2>{{ vmd.infoName() }}</h2>
             </div>
        </div> 

        <div class="card m-b-5" style="padding-bottom: 5px;">
            <form class="form-horizontal" role="form">
                <div class="card-body drag-border">
                    <div class="form-group" style="cursor: pointer;" ng-click="vmd.reservationEditAll()">
                        <div class="col-xs-12" style="text-align: center;padding: 15px;">
                            <label class="col-xs-4 control-label pull-left" style="text-align: left;">{{ vmd.infoDate() }}</label>
                            <label class="col-xs-4 control-label" style="text-align: center">{{ vmd.infoTime() }}</label>
                            <label class="col-xs-4 control-label pull-right">{{ vmd.infoTables() }}</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="covers">
                            Invitados
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="covers" ng-model="vmd.reservation.covers" ng-options="cover.id as cover.name for cover in vmd.covers"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="status">
                            Estado
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="status" ng-model="vmd.reservation.status_id" ng-options="status.id as status.name for status in vmd.statuses"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="server">
                            Mozo
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="server" ng-model="vmd.reservation.server_id" ng-options="server.id as server.name for server in vmd.servers">
                                        <option selected="true" value="">
                                            Ninguno
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="note">
                            Nota
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <textarea class="form-control input-sm" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="vmd.reservation.note"></textarea>
                            </div>
                        </div>
                    </div>

                </div>
            </form>
        </div>
        </div>

        <div class="modal-body modal-configuration" style="padding: 0 26px 10px;">
            <div class="card" style="box-shadow: none;">
                <div class="card-body">
                    <ul class="modal-listado-num-people" style="padding: 0;">
                        <li class="lst-men" style="display: inline-block;" ng-if="vmd.configuration.status_people_1">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-male-alt" style="font-size: 2.5em;margin-top: 5px;"></i>
                                </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="vmd.restar('men')">-</button>
                                <span class="box-count-value btn-active">{{vmd.reservation.guests.men}}</span>
                                <button class="btn" ng-click="vmd.sumar('men')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                        <li class="lst-women" style="display: inline-block;" ng-if="vmd.configuration.status_people_2">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-female" style="font-size: 2.5em;margin-top: 5px;"></i>
                            </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="vmd.restar('women')">-</button>
                                <span class="box-count-value btn-active">{{vmd.reservation.guests.women}}</span>
                                <button class="btn" ng-click="vmd.sumar('women')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                        <li class="lst-children" style="display: inline-block;" ng-if="vmd.configuration.status_people_3">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-face" style="font-size: 2.5em;margin-top: 5px;"></i>
                            </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="vmd.restar('children')">-</button>
                                <span class="box-count-value btn-active">{{vmd.reservation.guests.children}}</span>
                                <button class="btn" ng-click="vmd.sumar('children')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                    </ul>
<!--                     <div class="box-result" ng-if="vmd.configuration.status_people_1 || er.configuration.status_people_2 || er.configuration.status_people_3">
                        <span class="f-700">TOTAL</span>
                        <span class="box-total">{{vmd.reservation.guests.total}}</span>
                    </div> -->
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <div class="text-center">
                <button class="btn btn-warning btn-block" ng-click="vmd.cancelReservation()" ng-disabled="vmd.waitingResponse">Cancelar Reservacion</button>
            </div>
        </div>
    </div>
</script>
<script id="ModalEditReservation.html" type="text/ng-template">
    <div class="reservation-short-edit">
        <div class="modal-header" style="line-height: 30px;">
            <button class="btn bgm-red pull-left" ng-click="er.cancel()">Cancelar</button>
            <h4 style="display: inline;">Detalle de reservacion</h4>
            <button class="btn btn-primary pull-right" ng-click="er.save()" ng-disabled="er.waitingResponse">Guardar</button>
        </div>
        <div class="modal-body">

         <div class="card reservation-guest-selected" style="cursor: pointer;" ng-click="er.reservationEditAll()">
             <div class="card-header bgm-indigo" ng-click="removeGuest()">
                 <h2>{{ er.info.first_name }} {{ er.info.last_name }}</h2>
             </div>
        </div> 

        <div class="card m-b-5" style="padding-bottom: 5px;">
            <form class="form-horizontal" role="form">
                <div class="card-body drag-border">
                    <div class="form-group" style="cursor: pointer;" ng-click="er.reservationEditAll()">
                        <div class="col-xs-12" style="text-align: center;padding: 15px;">
                            <label class="col-xs-4 control-label pull-left" style="text-align: left;">{{ er.info.date }}</label>
                            <label class="col-xs-4 control-label" style="text-align: center">{{ er.info.time }}</label>
                            <label class="col-xs-4 control-label pull-right">{{ er.info.tables }}</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="covers">
                            Invitados
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="covers" ng-model="er.reservation.covers" ng-options="cover.id as cover.name for cover in er.covers"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="status">
                            Estado
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="status" ng-model="er.reservation.status_id" ng-options="status.id as status.name for status in er.statuses"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="server">
                            Mozo
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control" id="server" ng-model="er.reservation.server_id" ng-options="server.id as server.name for server in er.servers">
                                        <option selected="true" value="">
                                            Ninguno
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" for="note">
                            Nota
                        </label>
                        <div class="col-xs-10">
                            <div class="fg-line">
                                <textarea class="form-control input-sm" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="er.reservation.note"></textarea>
                            </div>
                        </div>
                    </div>

                </div>
            </form>
        </div>
        </div>

        <div class="modal-body modal-configuration" style="padding: 0 26px 10px;">
            <div class="card" style="box-shadow: none;">
                <div class="card-body">
                    <ul class="modal-listado-num-people" style="padding: 0;">
                        <li class="lst-men" ng-if="er.configuration.status_people_1" style="display: inline-block;">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-male-alt" style="font-size: 2.5em;margin-top: 5px;"></i>
                                </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="er.restar('men')">-</button>
                                <span class="box-count-value btn-active">{{er.reservation.guests.men}}</span>
                                <button class="btn" ng-click="er.sumar('men')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                        <li class="lst-women" ng-if="er.configuration.status_people_2" style="display: inline-block;">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-female" style="font-size: 2.5em;margin-top: 5px;"></i>
                            </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="er.restar('women')">-</button>
                                <span class="box-count-value btn-active">{{er.reservation.guests.women}}</span>
                                <button class="btn" ng-click="er.sumar('women')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                        <li class="lst-children" ng-if="er.configuration.status_people_3" style="display: inline-block;">
                            <div class="box-gender" style="width: 30px;">
                                <i class="zmdi zmdi-face" style="font-size: 2.5em;margin-top: 5px;"></i>
                            </div>
                            <div class="box-count pull-right">
                                <button class="btn" ng-click="er.restar('children')">-</button>
                                <span class="box-count-value btn-active">{{er.reservation.guests.children}}</span>
                                <button class="btn" ng-click="er.sumar('children')">+</button>
                            </div>
                            <div class="clearfix"></div>
                        </li>
                    </ul>
<!--                     <div class="box-result" ng-if="er.configuration.status_people_1 || er.configuration.status_people_2 || er.configuration.status_people_3">
                        <span class="f-700">TOTAL</span>
                        <span class="box-total">{{er.reservation.guests.total}}</span>
                    </div> -->
                </div>
            </div>
        </div>

        <div class="modal-footer" style="padding: 10px 26px;">
            <div class="text-center">
                <button class="btn btn-warning btn-block" ng-click="er.cancelReservation()" ng-disabled="er.waitingResponse">Cancelar Reservacion</button>
            </div>
        </div>
    </div>
</script>
<script id="modalConfiguration.html" type="text/ng-template">
    <div class="modal-body modal-configuration">
        <div class="card">
            <div class="card-header">
                <h2 class="text-right">{{vmc.table.name_zona}} - Mesa {{vmc.table.name}} <small >No preguntar de nuevo por configuracion</small></h2>
            </div>
            <div class="card-body">
                <ul class="modal-listado-num-people">
                    <li class="lst-men">
                        <div class="box-gender"><i class="zmdi zmdi-male-alt"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumMen==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'men')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('men')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumMen==vmc.numdinamicoMen ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoMen,'men')">{{vmc.numdinamicoMen}}</span>
                            <button class="btn" ng-click="vmc.sumar('men')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                    <li class="lst-women">
                        <div class="box-gender"><i class="zmdi zmdi-female"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumWomen==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'women')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('women')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumWomen==vmc.numdinamicoWomen ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoWomen,'women')">{{vmc.numdinamicoWomen}}</span>
                            <button class="btn" ng-click="vmc.sumar('women')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                    <li class="lst-children">
                        <div class="box-gender"><i class="zmdi zmdi-face"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumChildren==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'children')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('children')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumChildren==vmc.numdinamicoChildren ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoChildren,'children')">{{vmc.numdinamicoChildren}}</span>
                            <button class="btn" ng-click="vmc.sumar('children')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                </ul>
                <div class="box-result">
                    <span class="f-700">TOTAL</span>
                    <span class="box-total">{{vmc.resultado}}</span>
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <div class="text-center">
            <button class="btn btn-default-blue btn-block text-center waves-effect" ng-click="vmc.save()" ng-disabled="vmc.waitingResponse">GUARDAR</button>
        </div>
    </div>
</script>
<script id="ModalCreateWaitList.html" type="text/ng-template">
    <div class="reservation-short-edit">
        <div class="modal-header" style="line-height: 30px;">
            <h4 style="display: inline;">Nueva entrada</h4>
            <button class="btn btn-danger pull-right" ng-click="wl.cancel()"><i class="zmdi zmdi-close"></i></button>
        </div>
        <div class="modal-body p-t-20" style="background: #ddd;">

            <div class="card reservation-guest-form m-b-20 p-b-5 p-t-10" style="border: 1px solid #eaeaea;" ng-show="wl.addGuest">
                <form class="form-horizontal" role="form" autocomplete="off">
                        <div class="reservation-new-guest" >
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="name">
                                    Nombres
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="name" ng-model="wl.newGuest.first_name" ng-change="wl.searchGuest(wl.newGuest.first_name)" required="true" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="last_name">
                                    Apellidos
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="last_name" ng-model="wl.newGuest.last_name"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="phone">
                                    Telefono
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="phone" ng-model="wl.newGuest.phone"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="email">
                                    Email
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="email" ng-model="wl.newGuest.email"/>
                                    </div>
                                </div>
                            </div>

                            <div class="guest-search-list">
                                <div class="card m-0">
                                    <div class="card-header bgm-amber" ng-repeat="guest in wl.guestList" ng-click="wl.selectGuest(guest)">
                                        <h5>{{ guest.first_name + ", " + guest.last_name}}</h5>
                                        <span ng-repeat="phone in guest.phones">tel: {{ phone.number }}</span>
                                        <span ng-repeat="mail in guest.emails" ng-if="!guest.phones.length">email: {{ mail.email }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                </form>
            </div>

             <div class="card reservation-guest-selected" ng-show="wl.reservation.guest_id">
                 <div class="card-header bgm-indigo" ng-click="wl.removeGuest()">
                     <h2>{{ wl.guest.first_name + ", " + wl.guest.last_name}}</h2>
                     <span ng-repeat="phone in wl.guest.phones">tel: {{ phone.number }}</span>
                     <span ng-repeat="mail in wl.guest.emails" ng-if="!guest.phones.length">email: {{ mail.email }}</span>
                     <span class="remove-guest">click para elejir nuevo invitado</span>
                 </div>
            </div> 

            <div class="card m-b-5 p-b-5 p-t-10" style="border: 1px solid #eaeaea;">
                <form class="form-horizontal" role="form">
                     <div class="card-body drag-border">
                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="covers">
                                 Invitados
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <div class="select">
                                         <select class="form-control" id="covers" ng-model="wl.reservation.covers" ng-options="cover.id as cover.name for cover in wl.covers"></select>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="status">
                                 Espera
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <div class="select">
                                         <select class="form-control" id="status" ng-model="wl.reservation.quote" ng-options="duration.time as duration.name for duration in wl.durations"></select>
                                     </div>
                                 </div>
                             </div>
                         </div>

                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="note">
                                 Nota
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <textarea class="form-control input-sm" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="wl.reservation.note"></textarea>
                                 </div>
                             </div>
                         </div>

                     </div>
                 </form>
             </div>

       </div>

        <div class="modal-footer" style="padding: 10px 26px; background: #ddd;">
            <div class="text-center">
                <button class="btn btn-primary btn-block" ng-click="wl.save()" ng-disabled="wl.waitingResponse">
                {{ wl.buttonText }}</button>
            </div>
        </div>
    </div>
</script>gResponse">
                {{ wl.buttonText }}</button>
            </div>
        </div>
    </div>
</script>