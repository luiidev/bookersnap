<footer class="container-footer-floor" data-ng-include="'/js/app/tables/floor/view/partials/footer-tables.html'">
</footer>
<section class="container-zones" ui-view="principal">
</section>
<section class="section-right-floor">
    <div ui-view="tabReservaciones">
    </div>
</section>
<script id="myModalContentDetail.html" type="text/ng-template">
    <div class="reservation-list-content" ng-hide="vmd.EditContent">
        <div class="modal-header p-15">
            <h4 class="modal-title">MESA {{vmd.itemZona.name}} <i>({{vmd.itemZona.name_zona}})</i></h4>
        </div>
        <div class="modal-body">
            <div class="listview ">
                <div class="lv-body row">

                    <div class="m-10" ng-if="vmd.reservations.active"><strong>RESERVACIONES SENTADAS</strong></div>
                    <div class="lv-item media item-reservation m-b-15" ng-if="vmd.reservations.active" ng-click="vmd.reservationEdit(vmd.reservations.active)">
                        <div class="media-body">
                            <div class="lv-title">
                                {{vmd.reservations.active.guest.first_name || "Reservacion sin nombre"}} {{vmd.reservations.active.guest.last_name}}
                            </div>
                            <ul class="lv-attrs reservation" >
                                <li class="hours"><i class="zmdi zmdi-time"></i> {{ vmd.infoTime(vmd.reservations.active.hours_reservation) }}</li>
                                <li class="guests"><i class="zmdi zmdi-account-o"></i> {{vmd.reservations.active.num_guest}} personas</li>
                                <li class="status c-white" ng-class="'bgm-' + vmd.reservations.active.status.color">{{ vmd.reservations.active.status.name }}</li>
                            </ul>
                        </div>
                    </div>

                    <div class="m-10" ng-show="vmd.existPoximasReservationsBlocks" ><strong>PRÓXIMAS RESERVACIONES Y BLOQUEOS</strong></div>
                    <div class="lv-item media item-reservation" ng-repeat="item in vmd.reservations.data" ng-if="item.res_reservation_status_id < 4" ng-click="vmd.reservationEdit(item)">
                        <span class="hidden">{{ vmd.existPoximasReservationsBlocks = true; }}</span>
                        <div class="media-body" >
                            <div class="lv-title">
                                {{item.guest.first_name || "Reservacion sin nombre"}} {{item.guest.last_name}}
                            </div>
                            <ul class="lv-attrs reservation" >
                                <li class="hours"><i class="zmdi zmdi-time"></i> {{ vmd.infoTime(item.hours_reservation)}}</li>
                                <li class="guests"><i class="zmdi zmdi-account-o"></i> {{item.num_guest}} personas</li>
                                <li class="status c-white" ng-class="'bgm-' + item.status.color">{{ item.status.name }}</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="lv-item media item-block" ng-if="vmd.blocks.active" ng-click="vmd.blockEdit(vmd.blocks.start_date, vmd.blocks.id)" >
                        <div class="media-body">
                            <span class="hidden">{{ vmd.existPoximasReservationsBlocks = true; }}</span>
                            <div class="lv-title">Mesa Bloqueada</div>
                            <ul class="lv-attrs" >
                                <li>
                                    <i class="zmdi zmdi-time"></i> {{ vmd.infoTime(vmd.blocks.active.start_time) }} - {{ vmd.infoTime(vmd.blocks.active.end_time) }}
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div ng-repeat="item in vmd.blocks.data" class="lv-item media item-block" ng-click="vmd.blockEdit(item.start_date, item.id)">
                        <div class="media-body">
                            <span class="hidden">{{ vmd.existPoximasReservationsBlocks = true; }}</span>
                            <div class="lv-title">Mesa Bloqueada</div>
                            <ul class="lv-attrs" >
                                <li><i class="zmdi zmdi-time"></i> {{ vmd.infoTime(item.start_time) }} - {{ vmd.infoTime(item.end_time) }}</li>
                            </ul>
                        </div>
                    </div>

                    <div class="not-information" ng-if="!vmd.reservations.active && !vmd.existPoximasReservationsBlocks">
                        No se encontro reservas y bloqueos
                    </div>

                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary btn-block btn-lg text-center" ng-click="vmd.redirect()">crear reservación</button>   
        </div>
    </div>

    <div class="reservation-short-edit" ng-show="vmd.EditContent">
        <div class="modal-header" style="line-height: 30px;">
            <button class="btn bgm-white pull-left" ng-click="vmd.cancelEdit()"><i class="zmdi zmdi-arrow-back"></i></button>
            <h4 style="display: inline;">DETALLE DE RESERVACIÓN</h4>
            <!-- <button class="btn btn-primary pull-right" ng-click="vmd.save()" ng-disabled="vmd.waitingResponse">Guardar</button> -->
        </div>
        <div class="modal-body">
            <form class="form-horizontal" role="form">
                <div class="card-body drag-border">
                    <div class="resum-reservation" ng-click="vmd.reservationEditAll()">                        
                        <div class="row">
                            <div class="col-xs-12">
                                <h4 class="title">{{ vmd.infoName() }}</h4>
                            </div>
                            <div class="col-xs-4">{{ vmd.infoDate() }}</div>
                            <div class="col-xs-4 text-center">{{ vmd.infoTime() }}</div>
                            <div class="col-xs-4 text-right"><strong>Mesa: </strong> {{ vmd.infoTables() }}</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="covers">
                            <strong>INVITADOS</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="covers" ng-model="vmd.reservation.covers" ng-options="cover.id as cover.name for cover in vmd.covers"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="status">
                            <strong>ESTADO</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="status" ng-model="vmd.reservation.status_id" ng-options="status.id as status.name for status in vmd.statuses" >
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="server">
                            <strong>SERVIDOR</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="server" ng-model="vmd.reservation.server_id" ng-options="server.id as server.name for server in vmd.servers">
                                        <option selected="true" value="">
                                            Ninguno
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="note">
                            <strong>NOTA</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <textarea rows="2" class="form-control" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="vmd.reservation.note"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group p-b-10" ng-show="vmd.countKeys(vmd.selectTags)" >
                        <label class="col-xs-3 control-label" for="tag" >
                            <strong>ETIQUETAS</strong>
                        </label>
                        <div class="col-xs-9 p-t-5 p-b-5">
                            <label type="button" class="label bgm-lightblue m-r-5 text-uppercase" ng-repeat="tag in vmd.selectTags">
                                <span>{{ tag.name }}</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-12 p-t-10">
                            <div class="clearfix dropdown-btn-demo pull-right">
                                <div class="dropdown dropup" uib-dropdown>
                                    <a class="dropdown-toggle" uib-dropdown-toggle href="javascript:void(0)" >SELECCIONAR ETIQUETAS DE RESERVACIÓN</a>
                                    <ul class="dropdown-menu pull-right" ng-style="vmd.dTag && { 'transform': 'scale(1)', 'opacity': '1'}">
                                        <li data-ng-repeat="tag in vmd.tags">
                                            <span class="hidden">{{vmd.existTagsReservations = false}}</span>
                                            <a href="javascript:void(0)" ng-click="vmd.addTag(tag)" ng-mouseover="vmd.dTag = true" ng-mouseout="vmd.dTag = false">{{ tag.name }} <i class="zmdi zmdi-check zmdi-hc-fw pull-right" ng-show="tag.checked"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" ng-if="vmd.configuration.status_people_1 || vmd.configuration.status_people_2 || vmd.configuration.status_people_3" >
                        <div class="col-xs-12 m-b-10" ng-if="vmd.configuration.status_people_1">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="vmd.restar('men')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="vmd.sumar('men')" >
                                <i class="zmdi zmdi-male-alt" ></i> {{vmd.reservation.guests.men}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="vmd.sumar('men')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>
                        <div class="col-xs-12 m-b-10" ng-if="vmd.configuration.status_people_2">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="vmd.restar('women')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="vmd.sumar('women')" >
                                <i class="zmdi zmdi-female" ></i> {{vmd.reservation.guests.women}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="vmd.sumar('women')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>
                        <div class="col-xs-12 m-b-10" ng-if="vmd.configuration.status_people_3">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="vmd.restar('children')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="vmd.sumar('children')" >
                                <i class="zmdi zmdi-face" ></i> {{vmd.reservation.guests.children}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="vmd.sumar('children')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>                            
                    </div>
                </div>
            </form>
        </div>

        <div class="modal-footer">
            <div class="text-center">
                <button class="btn btn-primary btn-lg btn-block" ng-click="vmd.save()" ng-disabled="vmd.waitingResponse">GUARDAR</button>
            </div>
            <!-- CANCELAR RESERVACION: Poner reservacion en estado de cancelado -->
            <!-- <div class="text-center">
                <button class="btn btn-default btn-lg btn-block" ng-click="vmd.cancelReservation()" ng-disabled="vmd.waitingResponse">Cancelar Reservacion</button>
            </div>-->
        </div>
    </div>
</script>

<script id="ModalEditReservation.html" type="text/ng-template">
    <div class="reservation-short-edit">
        <div class="modal-header" style="line-height: 30px;">
            <!-- <button class="btn bgm-red pull-left" ng-click="er.cancel()">Cancelar</button> -->
            <h4 style="display: inline;">DETALLE DE RESERVACIÓN</h4>
            <!-- <button class="btn btn-primary pull-right" ng-click="er.save()" ng-disabled="er.waitingResponse">Guardar</button> -->
            <button class="btn bgm-red pull-right" ng-click="er.cancel()"><i class="zmdi zmdi-close"></i></button>
        </div>
        <div class="modal-body">
            <form class="form-horizontal" role="form">
                <div class="card-body drag-border">
                    <div class="resum-reservation" ng-click="er.reservationEditAll()">                        
                        <div class="row">
                            <div class="col-xs-12">
                                <h4 class="title">{{ er.info.first_name }} {{ er.info.last_name }}</h4>
                            </div>
                            <div class="col-xs-4">{{ er.info.date }}</div>
                            <div class="col-xs-4 text-center">{{ er.info.time }}</div>
                            <div class="col-xs-4 text-right"><strong>Mesa: </strong> {{ er.info.tables }}</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="covers">
                            <strong>INVITADOS</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="covers" ng-model="er.reservation.covers" ng-options="cover.id as cover.name for cover in er.covers"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="status">
                            <strong>ESTADO</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="status" ng-model="er.reservation.status_id" ng-options="status.id as status.name for status in er.statuses"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="server">
                            <strong>MOZO</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <div class="select">
                                    <select class="form-control text-uppercase" id="server" ng-model="er.reservation.server_id" ng-options="server.id as server.name for server in er.servers">
                                        <option selected="true" value="">
                                            Ninguno
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-3 control-label" for="note">
                            <strong>NOTA</strong>
                        </label>
                        <div class="col-xs-9">
                            <div class="fg-line">
                                <textarea class="form-control input-sm" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="er.reservation.note"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group p-b-10" ng-show="er.countKeys(er.selectTags)" >
                        <label class="col-xs-3 control-label" for="tag" >
                            <strong>ETIQUETAS</strong>
                        </label>
                        <div class="col-xs-9 p-t-5 p-b-5">
                            <label type="button" class="label bgm-lightblue m-r-5 text-uppercase" ng-repeat="tag in er.selectTags">
                                <span>{{ tag.name }}</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-12 p-t-10">
                            <div class="clearfix dropdown-btn-demo pull-right">
                                <div class="dropdown dropup" uib-dropdown>
                                    <a class="dropdown-toggle" uib-dropdown-toggle href="javascript:void(0)" >SELECCIONAR ETIQUETAS DE RESERVACIÓN</a>
                                    <ul class="dropdown-menu pull-right" ng-style="er.dTag && { 'transform': 'scale(1)', 'opacity': '1'}">
                                        <li data-ng-repeat="tag in er.tags">
                                            <span class="hidden">{{er.existTagsReservations=false}}</span>
                                            <a href="javascript:void(0)" ng-click="er.addTag(tag);" ng-mouseover="er.dTag = true" ng-mouseout="er.dTag = false">{{ tag.name }} <i class="zmdi zmdi-check zmdi-hc-fw pull-right" ng-show="tag.checked"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" ng-if="er.configuration.status_people_1 || er.configuration.status_people_2 || er.configuration.status_people_3" >
                        <div class="col-xs-12 m-b-10" ng-if="er.configuration.status_people_1">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="er.restar('men')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="er.sumar('men')" >
                                <i class="zmdi zmdi-male-alt" ></i> {{er.reservation.guests.men}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="er.sumar('men')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>
                        <div class="col-xs-12 m-b-10" ng-if="er.configuration.status_people_2">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="er.restar('women')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="er.sumar('women')" >
                                <i class="zmdi zmdi-female" ></i> {{er.reservation.guests.women}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="er.sumar('women')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>
                        <div class="col-xs-12" ng-if="er.configuration.status_people_3">
                            <button class="col-xs-4 btn bgm-gray btn-lg pull-left" ng-click="er.restar('children')" >
                                <i class="zmdi zmdi-minus" ></i>
                            </button>
                            <button class="col-xs-4 btn btn-default btn-lg pull-left" ng-click="er.sumar('children')" >
                                <i class="zmdi zmdi-face" ></i> {{er.reservation.guests.children}}
                            </button>
                            <button  class="col-xs-4 btn bgm-gray btn-lg pull-right" ng-click="er.sumar('children')" >
                                <i class="zmdi zmdi-plus" ></i>
                            </button>
                        </div>                            
                    </div>

                </div>
            </form>
        </div>

        <div class="modal-footer">
            <div class="text-center">
                <button class="btn btn-primary btn-lg btn-block" ng-click="er.save()" ng-disabled="vmd.waitingResponse">GUARDAR</button>
                <!-- <button class="btn btn-warning btn-block" ng-click="er.cancelReservation()" ng-disabled="er.waitingResponse">Cancelar Reservacion</button> -->
            </div>
        </div>
    </div>
</script>
<script id="modalConfiguration.html" type="text/ng-template">
    <div class="modal-body modal-configuration">
        <div class="card">
            <div class="card-header">
                <h2 class="text-right"> MESA {{vmc.table.name}} <i>({{vmc.table.zone.name}})</i><small >No preguntar de nuevo por configuracion</small></h2>
            </div>
            <div class="card-body">
                <ul class="modal-listado-num-people">
                    <li class="lst-men" ng-if="vmc.config.status_people_1">
                        <div class="box-gender"><i class="zmdi zmdi-male-alt"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumMen==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'men')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('men')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumMen==vmc.numdinamicoMen ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoMen,'men')">{{vmc.numdinamicoMen}}</span>
                            <button class="btn" ng-click="vmc.sumar('men')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                    <li class="lst-women" ng-if="vmc.config.status_people_2">
                        <div class="box-gender"><i class="zmdi zmdi-female"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumWomen==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'women')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('women')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumWomen==vmc.numdinamicoWomen ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoWomen,'women')">{{vmc.numdinamicoWomen}}</span>
                            <button class="btn" ng-click="vmc.sumar('women')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                    <li class="lst-children" ng-if="vmc.config.status_people_3">
                        <div class="box-gender"><i class="zmdi zmdi-face"></i></div>
                        <div style="float: left">
                            <button ng-repeat="value in vmc.colectionNum" class="btn {{vmc.flagSelectedNumChildren==value.num ? 'btn-active': ''}}" data-ng-click="vmc.btnSelectedNum(value.num,'children')">
                            {{value.num}}
                            </button>
                        </div>
                        <div class="box-count pull-right">
                            <button class="btn" ng-click="vmc.restar('children')">-</button>
                            <span class="box-count-value {{vmc.flagSelectedCountNumChildren==vmc.numdinamicoChildren ? 'btn-active': ''}}" ng-click="vmc.numThirteen(vmc.numdinamicoChildren,'children')">{{vmc.numdinamicoChildren}}</span>
                            <button class="btn" ng-click="vmc.sumar('children')">+</button>
                        </div>
                        <div class="clearfix"></div>
                    </li>
                </ul>
                <div class="box-result">
                    <span class="f-700">TOTAL</span>
                    <span class="box-total">{{vmc.resultado}}</span>
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <div class="text-center">
            <button class="btn btn-default-blue btn-block text-center waves-effect" ng-click="vmc.save()" ng-disabled="vmc.waitingResponse">GUARDAR</button>
        </div>
    </div>
</script>

<script id="ModalCreateWaitList.html" type="text/ng-template">
    <div class="reservation-short-edit">
        <div class="modal-header" style="line-height: 30px;">
            <h4 style="display: inline;">{{ wl.title }}</h4>
            <button class="btn btn-danger pull-right" ng-click="wl.cancel()"><i class="zmdi zmdi-close"></i></button>
        </div>
        <div class="modal-body p-t-20" style="background: #ddd;">

            <div class="card reservation-guest-form m-b-20 p-b-5 p-t-10" style="border: 1px solid #eaeaea;" ng-show="wl.addGuest">
                <form class="form-horizontal" role="form" autocomplete="off">
                        <div class="reservation-new-guest" >
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="name">
                                    Nombres
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="name" ng-model="wl.newGuest.first_name" ng-change="wl.searchGuest(wl.newGuest.first_name)" required="true" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="last_name">
                                    Apellidos
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="last_name" ng-model="wl.newGuest.last_name"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="phone">
                                    Telefono
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="phone" ng-model="wl.newGuest.phone"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" for="email">
                                    Email
                                </label>
                                <div class="col-xs-10 p-r-30">
                                    <div class="fg-line">
                                            <input type="text" class="form-control input" id="email" ng-model="wl.newGuest.email"/>
                                    </div>
                                </div>
                            </div>

                            <div class="guest-search-list">
                                <div class="card m-0">
                                    <div class="card-header bgm-amber" ng-repeat="guest in wl.guestList" ng-click="wl.selectGuest(guest)">
                                        <h5>{{ guest.first_name + ", " + guest.last_name}}</h5>
                                        <span ng-repeat="phone in guest.phones">tel: {{ phone.number }}</span>
                                        <span ng-repeat="mail in guest.emails" ng-if="!guest.phones.length">email: {{ mail.email }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                </form>
            </div>

             <div class="card reservation-guest-selected" ng-show="wl.reservation.guest_id">
                 <div class="card-header bgm-indigo" ng-click="wl.removeGuest()">
                     <h2>{{ wl.guest.first_name + ", " + wl.guest.last_name}}</h2>
                     <span ng-repeat="phone in wl.guest.phones">tel: {{ phone.number }}</span>
                     <span ng-repeat="mail in wl.guest.emails" ng-if="!guest.phones.length">email: {{ mail.email }}</span>
                     <span class="remove-guest">click para elejir nuevo invitado</span>
                 </div>
            </div> 

            <div class="card m-b-5 p-b-5 p-t-10" style="border: 1px solid #eaeaea;">
                <form class="form-horizontal" role="form">
                     <div class="card-body drag-border">
                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="covers">
                                 Invitados
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <div class="select">
                                         <select class="form-control" id="covers" ng-model="wl.reservation.covers" ng-options="cover.id as cover.name for cover in wl.covers"></select>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="status">
                                 Espera
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <div class="select">
                                         <select class="form-control" id="status" ng-model="wl.reservation.quote" ng-options="duration.time as duration.name for duration in wl.durations"></select>
                                     </div>
                                 </div>
                             </div>
                         </div>

                         <div class="form-group">
                             <label class="col-xs-2 control-label" for="note">
                                 Nota
                             </label>
                             <div class="col-xs-10 p-r-30">
                                 <div class="fg-line">
                                     <textarea class="form-control input-sm" id="note" placeholder="Introducir notas acerca de esta reserva aquí" ng-model="wl.reservation.note"></textarea>
                                 </div>
                             </div>
                         </div>

                     </div>
                 </form>
             </div>

       </div>

        <div class="modal-footer" style="padding: 10px 26px; background: #ddd;">
            <div class="text-center">
                <button class="btn btn-primary btn-block" ng-click="wl.save()" ng-disabled="wl.waitingResponse"
                ng-if="wl.option=='create'">
                {{ wl.buttonText }}</button>

                <button class="btn btn-primary btn-block" ng-click="wl.save()" ng-disabled="wl.waitingResponse"
                ng-if="wl.option=='edit'">
                Editar Lista de espera</button>

                 <button class="btn btn-danger btn-block" ng-click="wl.delete()" ng-disabled="wl.waitingResponse"
                ng-if="wl.option=='edit'">
                Eliminar Lista de espera</button>
            </div>
        </div>
    </div>
</script>
<script id="myModalMailReservation.html" type="text/ng-template">
    <div class="modal-header">
        <h3 class="modal-title">Enviar mensaje Reservación</h3>
    </div>

    <div class="modal-body">
        <div class="row">
            <div class="col-xs-12 text-center">
                    <h5>{{ vm.reservation.date }}  - {{ vm.reservation.time }}</h5>
            </div>

            <div class="col-xs-12 text-center">
                    <h5>{{ vm.reservation.nombre }}  - {{ vm.reservation.email }}</h5>
            </div>

             <div class="col-xs-12 text-center">
                    <h5>{{ vm.reservation.note }}</h5>
            </div>

             <div class="col-xs-12">
                <h5>Asunto</h5>
                <div class="fg-line">
                    <input type="text" name=""  class="form-control" ng-model="vm.mailData.subject" />
                </div>
            </div>
       
            <div class="col-xs-12">
                <h5>Mensaje</h5>
                <div class="fg-line">
                    <textarea class="form-control" rows="8" ng-model="vm.mailData.message"></textarea>
                </div>
                
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-warning" type="button" ng-click="vm.closeModal()">Cerrar</button>
        <button class="btn btn-primary" type="button" ng-click="vm.validateSendMail()">Enviar</button>
    </div>
</script>
<script id="ModalCheckGuestList.html" type="text/ng-template">
    <div class="reservation-short-edit">
        <div class="modal-header" style="line-height: 30px;">
            <h4 style="display: inline;">LISTA DE INVITADOS</h4>
            <button class="btn btn-danger pull-right" ng-click="gl.cancel()"><i class="zmdi zmdi-close"></i></button>
        </div>
        <div class="modal-body">
            <div class="text-center">Escribir nobre y presionar enter para añadir invitados a la lista</div>
            <table class="table">
                <thead>
                    <tr>
                        <th>
                            <form class="fg-line">
                                <input type="text" class="form-control input" placeholder="Escribe nombre aquí" ng-model="gl.newGuest"/>
                                <button class="btn btn-primary btn-block hidden" ng-click="gl.addGuest()" ng-disabled="!gl.newGuest">Agregar</button>
                           </form>
                            
                        </th>
                        <th style="width: 50px" ng-if="gl.configuration.status_people_1 && gl.configPeople">
                            <div class="">
                                <div class="guest-count">
                                    <i class="zmdi zmdi-male-alt guest-icon zmdi-hc-lg"></i>
                                    <label>{{ gl.person.man.quantity }}/{{  gl.person.man.auxiliar }}</label>
                                </div>
                            </div>
                        </th>
                        <th style="width: 50px" ng-if="gl.configuration.status_people_2 && gl.configPeople">
                            <div class="">
                                <div class="guest-count">
                                    <i class="zmdi zmdi-female guest-icon zmdi-hc-lg"></i>
                                    <label>{{ gl.person.woman.quantity }}/{{  gl.person.woman.auxiliar }}</label>
                                </div>
                            </div>
                        </th>
                        <th style="width: 50px" ng-if="gl.configuration.status_people_3 && gl.configPeople">
                            <div class="">
                                <div class="guest-count">
                                    <i class="zmdi zmdi-face guest-icon zmdi-hc-lg"></i>
                                    <label>{{ gl.person.children.quantity}}/{{  gl.person.children.auxiliar }}</label>
                                </div>
                            </div>
                        </th>
                        <th style="width: 50px"  ng-if="!gl.configPeople">
                            Asistencias: {{ gl.person.total }}
                        </th>
                        <th style="width: 40px">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in gl.guestList">
                        <td>
                            {{ item.name }}
                        </td>
                        <td ng-if="gl.configuration.status_people_1 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20" >
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.man"  ng-click="gl.changePerson(item, 'man')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-male-alt guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="gl.configuration.status_people_2 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20">
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.woman"  ng-click="gl.changePerson(item, 'woman')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-female guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="gl.configuration.status_people_3 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20">
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.children"  ng-click="gl.changePerson(item, 'children')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-face guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="!gl.configPeople">
                            <div class="checkbox text-center">
                                <label class="p-l-15">
                                    <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.arrived" ng-change="gl.changeArrived(item)">
                                    <i class="input-helper"></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <button class="btn btn-danger pull-right" ng-click="gl.removeGuestList(item)"><i class="zmdi zmdi-delete zmdi-hc-fw"></i></button>
                        </td>
                    </tr>

                    <tr ng-repeat="item in gl.guestListAdd">
                        <td>
                            {{ item.name }}
                        </td>
                        <td ng-if="gl.configuration.status_people_1 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20" >
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.man"  ng-click="gl.changePerson(item, 'man')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-male-alt guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="gl.configuration.status_people_2 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20">
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.woman"  ng-click="gl.changePerson(item, 'woman')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-female guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="gl.configuration.status_people_3 && gl.configPeople">
                            <label class="checkbox checkbox-inline m-r-20">
                                <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.children"  ng-click="gl.changePerson(item, 'children')">
                                <i class="input-helper"></i>
                                <!-- <i class="zmdi zmdi-face guest-icon zmdi-hc-lg"></i> -->
                            </label>
                        </td>
                        <td ng-if="!gl.configPeople">
                            <div class="checkbox text-center">
                                <label class="p-l-15">
                                    <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="item.arrived" ng-change="gl.changeArrived(item)">
                                    <i class="input-helper"></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <button class="btn btn-danger pull-right"  ng-click="gl.removeGuestListAdd($index)"><i class="zmdi zmdi-delete zmdi-hc-fw"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
       </div>

        <div class="modal-footer" >
            <div class="text-center">
                <button class="btn btn-primary btn-block btn-lg" ng-click="gl.save()" ng-disabled="gl.waitingResponse">
                       GUARDAR LISTA
                </button>
            </div>
        </div>
    </div>
</script>
