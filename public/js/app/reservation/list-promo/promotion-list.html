
<header id="header" data-current-skin={{mactrl.currentSkin}} data-ng-include="'/template/header.html'" data-ng-controller="headerCtrl as hctrl"></header>

<section id="main">
    <aside id="sidebar" data-ng-include="'/template/sidebar-left.html'" data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>

    <aside id="chat" data-ng-include="'/template/chat.html'" data-ng-class="{ 'toggled': mactrl.sidebarToggle.right === true }"></aside>

    <section id="content" ng-controller="PromotionListCtrl" >
        <div class="container">
        <div class="block-header">
        <h2>Reservaciones y promociones <span class="red">{{flag ? '(Para poder  ordenar tiene que limpiar el filtro)':''}}</span></h2>
        </div>

        <div id="filter" ng-include="'/js/app/reservation/list-promo/promotion-filtro.html'"></div>

          <div class="card" id="turno-main">
            <div class="card-header">
                  <h2>Promociones <small></small></h2>
                  <div class="pull-right"><button class="btn btn-primary waves-effect" data-ui-sref="add">Agregar Promocion</button></div>
              </div>
              <div class="pmb-block">
                  <div class="pmbb-header">
                          <div class="card-body table-responsive">
                              <table class="table">
                                  <thead>
                                      <tr>
                                          <th>Imagen</th>
                                          <th>Nombre</th>
                                          <th>Descripcion</th>
                                          <th>Fecha Caducidad</th>
                                          <th>Estado</th>
                                          <th>Acciones</th>
                                      </tr>
                                  </thead>
                                  <tbody class="list-unstyled" ng-repeat="promocion in promociones track by $index" ui-sortable="todoSortable" ng-model="promociones" ng-show="$index === currentShow">
                                      <tr class="todoTask" ng-repeat="todo in promociones">
                                          <td>
                                            <img src="http://www.zonapunto.com.pe/wp-content/uploads/2015/09/zona-punto-rosa-nautica-logo.jpg" width="150" height="auto"> 
                                            <div class="clearfix"> 
                                              <div class="btn-group inline pull-rigth" data-toggle="buttons-checkbox"> 
                                                <div class="btn btn-sm btn-danger visible-xs visible-sm hidden-md hidden-lg" ng-show="!$first" ng-click="moveUp($index)">UP</div> 
                                                <div class="btn btn-sm btn-success visible-xs visible-sm hidden-md hidden-lg" ng-show="!$last" ng-click="moveDown($index)">DOWN</div> 
                                              </div> 
                                            </div>
                                          </td>
                                          <td>{{todo.title}}</td>
                                          <td>{{todo.name}}</td>
                                          <td>
                                            <span ng-if="todo.status_expire === 1">
                                              {{todo.fechadecaducidad}}
                                            </span>
                                            <span ng-if="todo.status_expire === 0">
                                              NO CADUCA
                                            </span>
                                          </td>
                                          <td>
                                            <div class="toggle-switch" data-ts-color="blue"  >
                                                <input id="ts{{todo.id}}" ng-model="todo.status" ng-checked="todo.status" type="checkbox" hidden="hidden" ng-click="estadoPromocion($index)">
                                                <label for="ts{{todo.id}}" class="ts-helper"></label>
                                            </div> 
                                          </td>
                                          <td>
                                            <button class="btn btn-success">Editar</button>
                                            <button class="btn btn-error">Flyer</button>
                                            <button class="btn btn-warning"  ng-click="deleteTodo(todo)">Eliminar - {{todo.id}}</button>
                                          </td>
                                      </tr>
                                  </tbody>
                              </table>
                          </div>
                  </div>
              </div>
          </div>
        </div>
    </section>
</section>

<footer id="footer" data-ng-include="'/template/footer.html'"></footer>