angular.module("api.admin", ["httpApp"])
    .constant("_API_ADMIN_URL", "http://localhost:90");
angular.module("api.admin")
    .factory("RoleServiceApiAdmin", ["http", "_API_ADMIN_URL", function(http, _API_ADMIN_URL) {
        return {
            GetRoles: function() {
                return http.get(_API_ADMIN_URL + '/v1/es/roles', {});
            },
            CreateRole: function(data) {
                return http.post(_API_ADMIN_URL + '/v1/es/roles', data);
            },
            UpdateRole: function(id, data) {
                return http.put(_API_ADMIN_URL + '/v1/es/roles/' + id, data);
            },
            ChangeStatus: function(id, data) {
                return http.put(_API_ADMIN_URL + '/v1/es/roles/' + id + '?option=status', data, {responseType: "text"});
            },
            GetPrivileges: function(id) {
                return http.get(_API_ADMIN_URL + '/v1/es/roles/' + id + '/privileges');
            },
            SavePrivileges: function(id, data) {
                return http.post(_API_ADMIN_URL + '/v1/es/roles/' + id + '/privileges', { privileges: data });
            },
        };
    }]);
angular.module("httpApp", [])
    .factory("http", ["$http", function($http) {
        var service = {
            get: function(url, params) {
                return $http.get(url, {params: params});
            },
            post: function(url, data, config) {
                return $http.post(url, data, config);
            },
            put: function(url, data, config) {
                return $http.put(url, data, config);
            },
            delete: function(url, data, config) {
                return $http.delete(url, data, config);
            }
        };

        return service;
    }]);