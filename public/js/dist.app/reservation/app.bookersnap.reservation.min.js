
angular.module('reservation.app',['promotion.app']).constant("ApiUrl","http://web.aplication.bookersnap/v1/en/admin/ms/2/reservacion");angular.module('promotion.app',['promotion.controller','promotion.service','promotion.directive']).config(function($stateProvider,$urlRouterProvider){$stateProvider.state('promotion',{url:'/promotion',templateUrl:'/js/app/reservation/promotion/view/index.html'}).state('add',{url:'/promotion/add',views:{'':{templateUrl:'/js/app/reservation/promotion/view/add.html'},'promotion@add':{templateUrl:'/js/app/reservation/promotion/view/promotion-add.html',controller:'PromotionAddCtrl',},'flyer@add':{templateUrl:'/js/app/reservation/promotion/view/flyer-add.html',controller:'FlyerAddCtrl',}}})});angular.module('promotion.controller',['ngFileUpload','ngImgCrop','textAngular','ngEmoticons']).controller('PromotionCtrl',function($scope){}).controller('PromotionAddCtrl',function($scope,Upload,$timeout){$scope.titulo="Nueva promoción";$scope.estados=[{name:'Activo',value:1},{name:'Inactivo',value:0}];$scope.tipos=[{name:'Gratis',value:0},{name:'De pago',value:1}];$scope.promotion={caduca:false,tipo:0,estado:1,descripcion:" "};$scope.today=function(){$scope.dt=new Date();};$scope.today();$scope.open=function($event,opened){$event.preventDefault();$event.stopPropagation();$scope[opened]=true;};$scope.dateOptions={formatYear:'yy',startingDay:1};$scope.formats=['dd-MMMM-yyyy','yyyy/MM/dd','dd.MM.yyyy','shortDate'];$scope.format=$scope.formats[0];$scope.myImage=undefined;$scope.croppedDataUrl='';$scope.imageCropStep=1;$scope.clear=function(){$scope.imageCropStep=1;delete $scope.myImage;delete $scope.croppedDataUrl;};$scope.upload=function(dataUrl,name){Upload.upload({url:'http://web.aplication.bookersnap/public/file/img/promotions',data:{file:Upload.dataUrltoBlob(dataUrl,name)},}).then(function(response){$timeout(function(){$scope.result=response.data;});},function(response){if(response.status>0)$scope.errorMsg=response.status+': '+response.data;},function(evt){$scope.progress=parseInt(100.0*evt.loaded/evt.total);});}}).controller('FlyerAddCtrl',function($scope){$scope.titulo="Diseñar Flyer";})
angular.module('promotion.directive',[]);angular.module('promotion.service',[]);angular.module('bookersnap',['reservation.app']);